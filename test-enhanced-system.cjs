/**
 * –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –æ–±–æ–≥–∞—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç—å—é
 * –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
 */

async function testEnhancedSystem() {
  // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç ES –º–æ–¥—É–ª—è
  const smartRouter = await import('./server/smart-router.js');
  console.log('üß™ –¢–ï–°–¢ –û–ë–û–ì–ê–©–ï–ù–ù–û–ô –°–ò–°–¢–ï–ú–´ –° –°–ï–ú–ê–ù–¢–ò–ß–ï–°–ö–û–ô –ü–ê–ú–Ø–¢–¨–Æ\n');

  // –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
  console.log('üìù –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º');
  try {
    const response1 = await smartRouter.routeMessage(
      '–°–æ–∑–¥–∞—é –ø—Ä–æ–µ–∫—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ –¥–ª—è –∫–æ—Ñ–µ–π–Ω–∏ "–ê—Ä–æ–º–∞—Ç —É—Ç—Ä–∞"',
      { 
        sessionId: 'test-session-enhanced',
        isDirectRequest: true 
      }
    );
    
    console.log('‚úÖ –û—Ç–≤–µ—Ç 1:', response1.response.substring(0, 150) + '...\n');
    
    // –¢–µ—Å—Ç 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    console.log('üìù –¢–µ—Å—Ç 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞');
    const response2 = await smartRouter.routeMessage(
      '–°–æ–∑–¥–∞–π –ª–æ–≥–æ—Ç–∏–ø —Å —á–∞—à–∫–æ–π –∫–æ—Ñ–µ',
      { 
        sessionId: 'test-session-enhanced',
        isDirectRequest: true 
      }
    );
    
    console.log('‚úÖ –û—Ç–≤–µ—Ç 2:', response2.response.substring(0, 150) + '...\n');
    
    // –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤
    console.log('üìù –¢–µ—Å—Ç 3: –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏');
    const response3 = await smartRouter.routeMessage(
      '–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π –≤ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç',
      { 
        sessionId: 'test-session-enhanced',
        isDirectRequest: true 
      }
    );
    
    console.log('‚úÖ –û—Ç–≤–µ—Ç 3:', response3.response.substring(0, 150) + '...\n');
    
    // –¢–µ—Å—Ç 4: –ê–Ω–∞–ª–∏–∑ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    console.log('üìù –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞');
    const response4 = await smartRouter.routeMessage(
      '–ß—Ç–æ –º—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ?',
      { 
        sessionId: 'test-session-enhanced',
        isDirectRequest: true 
      }
    );
    
    console.log('‚úÖ –û—Ç–≤–µ—Ç 4:', response4.response.substring(0, 200) + '...\n');
    
    console.log('üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –æ–±–æ–≥–∞—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!');
    console.log('‚ú® –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ –æ–±–æ–≥–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º');
    
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –≤ —Ç–µ—Å—Ç–µ –æ–±–æ–≥–∞—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:', error.message);
    console.error('Stack:', error.stack);
  }
}

testEnhancedSystem();