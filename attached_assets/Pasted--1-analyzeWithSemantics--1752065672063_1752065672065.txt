 –≠–¢–ê–ü 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
–ü—Ä–æ–±–ª–µ–º–∞:
analyzeWithSemantics –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –≤–Ω–µ—à–Ω–∏–µ –∑–Ω–∞–Ω–∏—è
–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–µ—Ç–µ–∫—Ü–∏—è —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
–†–µ—à–µ–Ω–∏–µ:
–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –∑–Ω–∞–Ω–∏–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ 
–°–æ–∑–¥–∞—Ç—å –º–∞—Ä–∫–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:
–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "—Ä–∞—Å—Å–∫–∞–∂–∏", "—á—Ç–æ —Ç–∞–∫–æ–µ", "–æ–±—ä—è—Å–Ω–∏", "–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç"
–ü—Ä–µ–¥–º–µ—Ç–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏: –ø–ª–∞–Ω–µ—Ç—ã, –Ω–∞—É–∫–∞, –∏—Å—Ç–æ—Ä–∏—è, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
–í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: "—á—Ç–æ –∑–Ω–∞–µ—à—å –æ", "–ø–æ—á–µ–º—É", "–≥–¥–µ"
–ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
// –í analyzeWithSemantics –¥–æ–±–∞–≤–∏—Ç—å:
const needsExternalKnowledge = this.detectKnowledgeRequest(userInput);
if (needsExternalKnowledge) {
  context.includeAdvancedSearch = true;
  context.includeExternalKnowledge = true;
}
üîó –≠–¢–ê–ü 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ includeAdvancedSearch
–ü—Ä–æ–±–ª–µ–º–∞:
–ü–æ–ª–µ includeAdvancedSearch –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ true
–£—Å–ª–æ–≤–∏–µ –≤—Å–µ–≥–¥–∞ –ª–æ–∂–Ω–æ–µ, –ø–æ–∏—Å–∫ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
–†–µ—à–µ–Ω–∏–µ:
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤ 
–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ñ–ª–∞–≥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
–¢–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞ –±–µ—Å–µ–¥—ã
–õ–æ–≥–∏–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ —É—Å–ª–æ–≤–∏—è–º:
context.includeAdvancedSearch = 
  shouldUseMeta || 
  isKnowledgeQuery || 
  semanticResult.intent === 'knowledge_request' ||
  input.includes('—Ä–∞—Å—Å–∫–∞–∂–∏') ||
  input.includes('—á—Ç–æ —Ç–∞–∫–æ–µ');
üß† –≠–¢–ê–ü 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è external-knowledge-integrator –≤ Semantic Memory
–ü—Ä–æ–±–ª–µ–º–∞:
 –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç external-knowledge-integrator
–ú–µ—Ç–æ–¥—ã analyzeCompleteRequest —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
–†–µ—à–µ–Ω–∏–µ:
–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å –≤ 
–î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ –≤ analyzeCompleteRequest
–ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–Ω–∞–Ω–∏—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
// –í analyzeCompleteRequest –¥–æ–±–∞–≤–∏—Ç—å:
if (context.includeExternalKnowledge) {
  const externalKnowledge = await enrichWithExternalKnowledge(userQuery, {
    includeAdvancedSearch: true,
    semanticContext: result
  });
  result.externalKnowledge = externalKnowledge;
}
üìù –≠–¢–ê–ü 4: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∫ Natural Language Generator
–ü—Ä–æ–±–ª–µ–º–∞:
generateKnowledgeResponse –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ external-knowledge-integrator
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–≥–ª—É—à–∫–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–†–µ—à–µ–Ω–∏–µ:
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∑–Ω–∞–Ω–∏–π
–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –æ—Ç external-knowledge-integrator
–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
–í–Ω–µ—à–Ω–∏–µ –∑–Ω–∞–Ω–∏—è (Wikipedia, –Ω–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏)
–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ (web-search)
–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–Ω–∞–Ω–∏—è (–∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã)
Fallback (–±–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã)
üîÑ –≠–¢–ê–ü 5: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤
–¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞:
–ó–∞–ø—Ä–æ—Å ‚Üí semantic-integration-layer ‚Üí 
  ‚Üì (–ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è)
  external-knowledge-integrator ‚Üí 
    ‚Üì (–ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è)  
    advanced-search-provider ‚Üí 
      ‚Üì (–ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è)
      web-search-provider
–¶–µ–ª–µ–≤–∞—è —Å—Ö–µ–º–∞:
–ó–∞–ø—Ä–æ—Å ‚Üí semantic-integration-layer ‚Üí 
  ‚Üì (–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò)
  semantic-memory + external-knowledge-integrator ‚Üí 
    ‚Üì (–ü–û –£–°–õ–û–í–ò–Æ)  
    advanced-search-provider ‚Üí 
      ‚Üì (–ê–ö–¢–ò–í–ù–û)
      web-search-provider + Wikipedia + ArXiv
üìã –≠–¢–ê–ü 6: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
6.1 –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –∑–Ω–∞–Ω–∏–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–∞—Ü–∏—é includeAdvancedSearch
–ü–æ–¥–∫–ª—é—á–∏—Ç—å external-knowledge-integrator –∫ semantic-memory
6.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏:
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å generateKnowledgeResponse
–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–Ω–µ—à–Ω–∏—Ö –∑–Ω–∞–Ω–∏–π –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ
–°–æ–∑–¥–∞—Ç—å fallback —Å–∏—Å—Ç–µ–º—É
6.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
üéØ –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:
–í analyzeWithSemantics:

if (this.shouldUseExternalKnowledge(userInput, context)) {
  context.includeAdvancedSearch = true;
  context.includeExternalKnowledge = true;
}
–í analyzeCompleteRequest:

if (options.includeExternalKnowledge) {
  result.externalKnowledge = await enrichWithExternalKnowledge(userQuery, options);
}
–í generateKnowledgeResponse:

if (context.externalKnowledge) {
  return this.generateKnowledgeEnrichedResponse(context.externalKnowledge);
}